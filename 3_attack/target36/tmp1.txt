00 00 00 00 00 00 00 00
00 00 00 00 00 00 00 00

00 00 00 00 00 00 00 00
00 00 00 00 00 00 00 00

00 00 00 00 00 00 00 00
00 00 00 00 00 00 00 00

00 00 00 00 00 00 00 00
00 00 00 00 00 00 00 00

00 00 00 00 00 00 00 00
00 00 00 00 00 00 00 00

00 00 00 00 00 00 00 00
00 00 00 00 00 00 00 00

00 00 00 00 00 00 00 00
00 00 00 00 00 00 00 00

00 00 00 00 00 00 00 00
00 00 00 00 00 00 00 00

eb 22 40 00 00 00 00 00
62 22 40 00 00 00 00 00

70 22 40 00 00 00 00 00
48 00 00 00 00 00 00 00

de 23 40 00 00 00 00 00
35 23 40 00 00 00 00 00

a1 23 40 00 00 00 00 00
a7 22 40 00 00 00 00 00

62 22 40 00 00 00 00 00
b9 20 40 00 00 00 00 00

31 65 61 35 31 30 62 37
00 00 00 00 00 00 00 00

00 00 00 00 00 00 00 00
00 00 00 00 00 00 00 00

00 00 00 00 00 00 00 00
00 00 00 00 00 00 00 00

88 00 00 00 00 01 00 00
00 00 00 00 00 00 00 00

eb 22 40 00 00 00 00 00
31 65 61 35 31 30 62 37

70 22 40 00 00 00 00 00
48 00 00 00 00 00 00 00

de 23 40 00 00 00 00 00
35 23 40 00 00 00 00 00

a1 23 40 00 00 00 00 00
a7 22 40 00 00 00 00 00

62 22 40 00 00 00 00 00
b9 20 40 00 00 00 00 00

31 65 61 35 31 30 62 37
31 65 61 35 31 30 62 37

00 00 00 00 00 00 00 00
00 00 00 00 00 00 00 00



00 00 00 00 00 00 00 00
00 00 00 00 00 00 00 00
//10
00 00 00 00 00 00 00 00
00 00 00 00 00 00 00 00
//20
00 00 00 00 00 00 00 00
00 00 00 00 00 00 00 00
//30
00 00 00 00 00 00 00 00
00 00 00 00 00 00 00 00
//40
00 00 00 00 00 00 00 00
00 00 00 00 00 00 00 00
//50
00 00 00 00 00 00 00 00
00 00 00 00 00 00 00 00
//60
00 00 00 00 00 00 00 00
00 00 00 00 00 00 00 00
//70
00 00 00 00 00 00 00 00
00 00 00 00 00 00 00 00
//80
f4 22 40 00 00 00 00 00
22 22 40 00 00 00 00 00
//90
63 22 40 00 00 00 00 00
48 00 00 00 00 00 00 00
//a0
e9 22 40 00 00 00 00 00
7d 23 40 00 00 00 00 00
//b0
d6 22 40 00 00 00 00 00
7b 22 40 00 00 00 00 00
//c0
22 22 40 00 00 00 00 00
8e 20 40 00 00 00 00 00
//d0
36 62 65 64 31 62 33 32
00 00 00 00 00 00 00 00
//e0
00 00 00 00 00 00 00 00
00 00 00 00 00 00 00 00
//f0
00 00 00 00 00 00 00 00
00 00 00 00 00 00 00 00
//100
88 00 00 00 00 10 00 00
00 00 00 00 00 00 00 00
//110
f4 22 40 00 00 00 00 00
36 62 65 64 31 62 33 32
//120
63 22 40 00 00 00 00 00
48 00 00 00 00 00 00 00
//130
e9 22 40 00 00 00 00 00
7d 23 40 00 00 00 00 00
//140
d6 22 40 00 00 00 00 00
7b 22 40 00 00 00 00 00
//150
36 62 65 64 31 62 33 32
00 00 00 00 00 00 00 00
//160
36 62 65 64 31 62 33 32
36 62 65 64 31 62 33 32
//170
00 00 00 00 00 00 00 00
00 00 00 00 00 00 00 00
//180
00 00 00 00 00 00 00 00


eb 22 40 00 00 00 00 00 62 22 40 00 00 00 00 00 70 22 40 00 00 00 00 00 48 00 00 00 00 00 00 00 de 23 40 00 00 00 00 00 35 23 40 00 00 00 00 00 a1 23 40 00 00 00 00 00 a7 22 40 00 00 00 00 00 62 22 40 00 00 00 00 00 b9 20 40 00 00 00 00 00 31 65 61 35 31 30 62 37 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00


eb 22 40 00 00 00 00 00
62 22 40 00 00 00 00 00
70 22 40 00 00 00 00 00
48 00 00 00 00 00 00 00
de 23 40 00 00 00 00 00
35 23 40 00 00 00 00 00
a1 23 40 00 00 00 00 00
a7 22 40 00 00 00 00 00
62 22 40 00 00 00 00 00
b9 20 40 00 00 00 00 00
31 65 61 35 31 30 62 37
00 00 00 00 00 00 00 00
00 00 00 00 00 00 00 00
00 00 00 00 00 00 00 00
00 00 00 00 00 00 00 00
00 00 00 00 00 00 00 00

//以上有16*8
00 00 00 00 98 01 00 00
00 00 00 00 00 00 00 00





%rsp:       0x7ffd4f69f260

%rsp+0x190 :0x7fff6e817c90 (canary)
0x00007fff6e8941d0      
%rsp+0x198 :0x7fff6e817c98 (return address)
0x0000000000402170

(gdb) x/x ($rsp+0x190)
0x7ffd4f69f3f0: 0x00007ffd4f69fe90
(gdb) x/x ($rsp+0x198)
0x7ffd4f69f3f8: 0x0000000000402170


1. memcpy 干什么
取什么地址

_dl_runtime_resolve_xsave

│rax            0x7fff599b4dc0   140734696738240                                    rbx            0x1      1                                                           │
│rcx            0x7fff599b4ec8   140734696738504                                    rdx            0x0      0                                                           │
│rsi            0x7fff599b4ec8   140734696738504                                    rdi            0x7fff599b4dc0   140734696738240                                     │
│rbp            0x7fff599b4f50   0x7fff599b4f50                                     rsp            0x7fff599b4da0   0x7fff599b4da0                                      │
│r8             0x404770 4212592                                                    r9             0x36     54                                                          │
│r10            0x1d0d010        30461968                                           r11            0x246    582                                                         │
│r12            0x404247 4211271                                                    r13            0x0      0   
x/70gx $rsp
0x7fff599b4da0: 0x0000000000000001      0x00007f8363773170
0x7fff599b4db0: 0x0000000000000012      0x00000000004021f9
0x7fff599b4dc0: 0x6666206666206666      0x6620666620666620
0x7fff599b4dd0: 0x2066662066662066      0x6666206666206666
0x7fff599b4de0: 0x6620666620666620      0x2066662066662066
0x7fff599b4df0: 0x6666206666206666      0x6620666620666620
0x7fff599b4e00: 0x2066662066662066      0x6666206666206666
0x7fff599b4e10: 0x6620666620666620      0x2066662066662066
0x7fff599b4e20: 0x6666206666206666      0x6620666620666620
0x7fff599b4e30: 0x2066662066662066      0x6666206666206666
0x7fff599b4e40: 0x6620666620666620      0x2066662066662066
0x7fff599b4e50: 0x6666206666206666      0x6620666620666620
0x7fff599b4e60: 0x2066662066662066      0x6666206666206666
0x7fff599b4e70: 0x6620666620666620      0x0066662066662066
0x7fff599b4e80: 0x0000003000000010      0x00007fff599b4f70
0x7fff599b4e90: 0x00007fff599b4ea0      0xb5faff4fba05b200
0x7fff599b4ea0: 0x0000000000000000      0x0000000000000000
0x7fff599b4eb0: 0x00007fff599b4f70      0x0000000000000000
0x7fff599b4ec0: 0x0000000000000000      0x0000000000000000
0x7fff599b4ed0: 0x0000000000000000      0x0000000000000000
0x7fff599b4ee0: 0x0000000000000000      0x0000000000000000
0x7fff599b4ef0: 0x0000000000000000      0x0000000000000000
0x7fff599b4f00: 0x0000000000000000      0x0000000000000000
0x7fff599b4f10: 0x0000000000000000      0x0000000000000000
0x7fff599b4f20: 0x0000000000000000      0x0000000000000000
0x7fff599b4f30: 0x0000000000000000      0x0000000000000000
0x7fff599b4f40: 0x0000000000000000      0xb5faff4fba05b200
0x7fff599b4f50: 0x00007fff59a1a760      0x00000000 00402170
0x7fff599b4f60: 0x0000000000404247      0x0000000000402ae7
0x7fff599b4f70: 0xf4f4f4f4f4f4f4f4      0xf4f4f4f4f4f4f4f4
0x7fff599b4f80: 0xf4f4f4f4f4f4f4f4      0xf4f4f4f4f4f4f4f4
0x7fff599b4f90: 0xf4f4f4f4f4f4f4f4      0xf4f4f4f4f4f4f4f4




0x7fff599b4a00: 0x00007fff599b4dc0      0x00007fff599b4ec8
0x7fff599b4a10: 0x0000000000000000      0x00007fff599b4ec8
0x7fff599b4a20: 0x00007fff599b4dc0      0x0000000000404770
0x7fff599b4a30: 0x0000000000000036      0x00007fff599b4ea0
0x7fff599b4a40: 0x0000000000000003      0x00007f8363767000
0x7fff599b4a50: 0x0000000000000000      0x0000ffff00001f80
0x7fff599b4a60: 0x00007f83637734c8      0x00007fff599b4ba8
0x7fff599b4a70: 0x00007f8363767560      0x00007f8363773170
0x7fff599b4a80: 0x0000000000000000      0x00007f836355339f
0x7fff599b4a90: 0x0000000000000001      0x00007f8363767560
0x7fff599b4aa0: 0x0000000000000001      0x0000000000000000
0x7fff599b4ab0: 0x0000000000000001      0x00007f8363773170
0x7fff599b4ac0: 0x0000000000400842      0x0000000100000000
0x7fff599b4ad0: 0x00007fff599b4b00      0x00007fff599b4b10
0x7fff599b4ae0: 0x2525252525252525      0x2525252525252525
0x7fff599b4af0: 0x000000000000ff00      0x0000000000000000
0x7fff599b4b00: 0x000000000000ff00      0x0000000000000000
0x7fff599b4b10: 0x64726f2220656854      0x656e696c20227265
0x7fff599b4b20: 0x4040404040404040      0x4040404040404040
0x7fff599b4b30: 0x5a5a5a5a5a5a5a5a      0x5a5a5a5a5a5a5a5a
0x7fff599b4b40: 0x2020202020202020      0x2020202020202020
0x7fff599b4b50: 0xffff00ff0000ffff      0x00ffff000000ffff
0x7fff599b4b60: 0x206b636174530074      0x6c696166206b6863
0x7fff599b4b70: 0x0000000000000000      0x0000000000000000
0x7fff599b4b80: 0x2000000020000000      0x0000000000000400
0x7fff599b4b90: 0x0000004000000000      0x0000000000000007
0x7fff599b4ba0: 0x0000000000000410      0x0000000001d0d208
0x7fff599b4bb0: 0x0000000000000430      0xffffffffffffffb0
0x7fff599b4bc0: 0x0000000000000010      0x0000004000000041
0x7fff599b4bd0: 0x0000000000000002      0x0000000000000000
0x7fff599b4be0: 0x0000000000000000      0x000000770000007c
0x7fff599b4bf0: 0x0000005d0000006e      0x00007f8363543160
0x7fff599b4c00: 0x0000000000000000      0x0000000000000400
0x7fff599b4c10: 0xffffffffffffffb0      0x00007fff599b4dc0
0x7fff599b4c20: 0x0000000000000000      0x0000000000000000



   │mov    %rsp,%rbx                                                                                                    │
   │0x7f836355f824 <_dl_runtime_resolve_xsave+4>    and    $0xffffffffffffffc0,%rsp                                                                                     │
   │0x7f836355f828 <_dl_runtime_resolve_xsave+8>    sub    0x211fd9(%rip),%rsp        # 0x7f8363771808 <_rtld_global_ro+168>                                            │
   │0x7f836355f82f <_dl_runtime_resolve_xsave+15>   mov    %rax,(%rsp)                                                                                                  │
   │0x7f836355f833 <_dl_runtime_resolve_xsave+19>   mov    %rcx,0x8(%rsp)                                                                                               │
   │0x7f836355f838 <_dl_runtime_resolve_xsave+24>   mov    %rdx,0x10(%rsp)                                                                                              │
   │0x7f836355f83d <_dl_runtime_resolve_xsave+29>   mov    %rsi,0x18(%rsp)                                                                                              │
   │0x7f836355f842 <_dl_runtime_resolve_xsave+34>   mov    %rdi,0x20(%rsp)
   │0x7f836355f847 <_dl_runtime_resolve_xsave+39>   mov    %r8,0x28(%rsp)                                                                                               │
   │0x7f836355f84c <_dl_runtime_resolve_xsave+44>   mov    %r9,0x30(%rsp)                                                                                               │
   │0x7f836355f851 <_dl_runtime_resolve_xsave+49>   mov    $0xee,%eax                                                                                                   │
   │0x7f836355f856 <_dl_runtime_resolve_xsave+54>   xor    %edx,%edx                                                                                                    │
   │0x7f836355f858 <_dl_runtime_resolve_xsave+56>   mov    %rdx,0x240(%rsp)                                                                                             │
   │0x7f836355f860 <_dl_runtime_resolve_xsave+64>   mov    %rdx,0x248(%rsp)
   │0x7f836355f868 <_dl_runtime_resolve_xsave+72>   mov    %rdx,0x250(%rsp)                                                                                             │
   │0x7f836355f870 <_dl_runtime_resolve_xsave+80>   mov    %rdx,0x258(%rsp)                                                                                             │
   │0x7f836355f878 <_dl_runtime_resolve_xsave+88>   mov    %rdx,0x260(%rsp)                                                                                             │
   │0x7f836355f880 <_dl_runtime_resolve_xsave+96>   mov    %rdx,0x268(%rsp)                                                                                             │
   │0x7f836355f888 <_dl_runtime_resolve_xsave+104>  mov    %rdx,0x270(%rsp)                                                                                             │
   │0x7f836355f890 <_dl_runtime_resolve_xsave+112>  mov    %rdx,0x278(%rsp)                                                                                             │
   │0x7f836355f898 <_dl_runtime_resolve_xsave+120>  xsave  0x40(%rsp)  
   │0x7f836355f89d <_dl_runtime_resolve_xsave+125>  mov    0x10(%rbx),%rsi                                                                                              │
   │0x7f836355f8a1 <_dl_runtime_resolve_xsave+129>  mov    0x8(%rbx),%rdi                                                                                               │
   │0x7f836355f8a5 <_dl_runtime_resolve_xsave+133>  callq  0x7f8363557f80 <_dl_fixup>           



rax            0xee     238                                                        rbx            0x7fff599b4da0   140734696738208                                     │
│rcx            0x7fff599b4ec8   140734696738504                                    rdx            0x0      0                                                           │
│rsi            0x12     18                                                         rdi            0x7f8363773170   140202286199152                                     │
│rbp            0x7fff599b4f50   0x7fff599b4f50                                     rsp            0x7fff599b49f8   0x7fff599b49f8                                      │
│r8             0x404770 4212592                                                    r9             0x36     54                                                          │
│r10            0x1d0d010        30461968                                           r11            0x246    582                                                         │
│r12            0x404247 4211271                                                    r13            0x0      0


0x7fff599b49f8: 0x00007f836355f8aa      0x00007fff599b4dc0
0x7fff599b4a08: 0x00007fff599b4ec8      0x0000000000000000
0x7fff599b4a18: 0x00007fff599b4ec8      0x00007fff599b4dc0
0x7fff599b4a28: 0x0000000000404770      0x0000000000000036
0x7fff599b4a38: 0x00007fff599b4ea0      0x0000000000000003
0x7fff599b4a48: 0x00007f8363767000      0x0000000000000000
0x7fff599b4a58: 0x0000ffff00001f80      0x00007f83637734c8
0x7fff599b4a68: 0x00007fff599b4ba8      0x00007f8363767560
0x7fff599b4a78: 0x00007f8363773170      0x0000000000000000
0x7fff599b4a88: 0x00007f836355339f      0x0000000000000001
0x7fff599b4a98: 0x00007f8363767560      0x0000000000000001
0x7fff599b4aa8: 0x0000000000000000      0x0000000000000001
0x7fff599b4ab8: 0x00007f8363773170      0x0000000000400842
0x7fff599b4ac8: 0x0000000100000000      0x00007fff599b4b00
0x7fff599b4ad8: 0x00007fff599b4b10      0x2525252525252525
0x7fff599b4ae8: 0x2525252525252525      0x000000000000ff00
0x7fff599b4af8: 0x0000000000000000      0x000000000000ff00
0x7fff599b4b08: 0x0000000000000000      0x64726f2220656854
0x7fff599b4b18: 0x656e696c20227265      0x4040404040404040
0x7fff599b4b28: 0x4040404040404040      0x5a5a5a5a5a5a5a5a
0x7fff599b4b38: 0x5a5a5a5a5a5a5a5a      0x2020202020202020
0x7fff599b4b48: 0x2020202020202020      0xffff00ff0000ffff
0x7fff599b4b58: 0x00ffff000000ffff      0x206b636174530074
0x7fff599b4b68: 0x6c696166206b6863      0x0000000000000000
0x7fff599b4b78: 0x0000000000000000      0x2000000020000000
0x7fff599b4b88: 0x2000000020000000      0x0000000000000000
0x7fff599b4b98: 0x0000000000000000      0x0000000000000000
0x7fff599b4ba8: 0x0000000000000000      0x0000000000000000
0x7fff599b4bb8: 0x0000000000000000      0x0000000000000000
0x7fff599b4bc8: 0x0000000000000000      0x0000000000000000
0x7fff599b4bd8: 0x0000000000000000      0x0000000000000000
0x7fff599b4be8: 0x000000770000007c      0x0000005d0000006e
0x7fff599b4bf8: 0x00007f8363543160      0x0000000000000000
0x7fff599b4c08: 0x0000000000000400      0xffffffffffffffb0
0x7fff599b4c18: 0x00007fff599b4dc0      0x0000000000000000




0x7f8363557f81 <_dl_fixup+1>    mov    %rdi,%r10                                                                                                                    │
   │0x7f8363557f84 <_dl_fixup+4>    mov    %esi,%esi                                                                                                                    │
   │0x7f8363557f86 <_dl_fixup+6>    lea    (%rsi,%rsi,2),%rdx                                                                                                           │
   │0x7f8363557f8a <_dl_fixup+10>   sub    $0x10,%rsp                                                                                                                   │
   │0x7f8363557f8e <_dl_fixup+14>   mov    0x68(%rdi),%rax                                                                                                              │
   │0x7f8363557f92 <_dl_fixup+18>   mov    0x8(%rax),%rdi                                                                                                               │
   │0x7f8363557f96 <_dl_fixup+22>   mov    0xf8(%r10),%rax                                                                                                              │
   │0x7f8363557f9d <_dl_fixup+29>   mov    0x8(%rax),%rax



2.